<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: svg.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: svg.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const {writeFileSync} = require('fs');
const vega = require('vega');

/**
 * Draw an SVG bar chart of an array, and save it to a file
 * @param {number[]} ft Fourier Transform
 * @param {string} filename Output filename
 * @returns {vega.View} Vega view object
 */
function chart(ft, filename) {
	// console.log(wave);
	const values = ft.map((value, index) => ({x: index, y: value}));
	// console.log(values);
	const chart = {
		$schema: 'https://vega.github.io/schema/vega/v5.json',
		description: 'Wilhelm Scream Frequency distribution',
		width: 400,
		height: 200,
		padding: 5,
		data: [{name: 'table', values}],
		signals: [
			{
				name: 'interpolate',
				value: 'linear',
				bind: {
					input: "select",
					options: [
						"basis",
						"cardinal",
						"catmull-rom",
						"linear",
						"monotone",
						"natural",
						"step",
						"step-after",
						"step-before",
					],
				},
			},
		],
		scales: [
			{
				name: 'xscale',
				type: 'linear',
				range: 'width',
				nice: true,
				zero: false,
				domain: {
					data: 'table',
					field: 'x',
				},
			},
			{
				name: 'yscale',
				type: 'linear',
				range: 'height',
				nice: true,
				zero: true,
				domain: {
					data: 'table',
					field: 'y',
				},
			},
		],
		axes: [
			{
				orient: 'bottom',
				scale: 'xscale',
				tickCount: 10,
			},
			{
				orient: 'left',
				scale: 'yscale',
			},
		],
		marks: [
			{
				type: 'line',
				from: {
					data: 'table',
				},
				encode: {
					enter: {
						x: {
							scale: 'xscale',
							field: 'x',
						},
						y: {
							scale: 'yscale',
							field: 'y',
						},
					},
				},
			},
		],
	};
	const view = new vega.View(vega.parse(chart), {renderer: 'none'});
	view.toSVG().then((svg) => writeFileSync(filename + '.svg', svg));
	return view;
}

module.exports = chart;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#arrayToFile">arrayToFile</a></li><li><a href="global.html#arrayToWAV">arrayToWAV</a></li><li><a href="global.html#chart">chart</a></li><li><a href="global.html#commandline">commandline</a></li><li><a href="global.html#detectPeaks">detectPeaks</a></li><li><a href="global.html#fft">fft</a></li><li><a href="global.html#fileToArray">fileToArray</a></li><li><a href="global.html#fileToWAV">fileToWAV</a></li><li><a href="global.html#getConfig">getConfig</a></li><li><a href="global.html#graph">graph</a></li><li><a href="global.html#limitPeaks">limitPeaks</a></li><li><a href="global.html#line">line</a></li><li><a href="global.html#lines">lines</a></li><li><a href="global.html#maxima">maxima</a></li><li><a href="global.html#pad">pad</a></li><li><a href="global.html#smoothArray">smoothArray</a></li><li><a href="global.html#threshold">threshold</a></li><li><a href="global.html#videoToAudioFile">videoToAudioFile</a></li><li><a href="global.html#wavFileToArray">wavFileToArray</a></li><li><a href="global.html#wavToArray">wavToArray</a></li><li><a href="global.html#wavToFile">wavToFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed May 05 2021 01:28:47 GMT+1200 (New Zealand Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
